;var $bUserToolTipIsHover=false;var $bUserActualToolTipIsHover=false;var $iUserToolTipWaitTime=1000;var $oUserToolTipObject=null;var $sHoveringOn=null;var aHideUsers=new Array();var bUserInfoLogDebug=false;$Core.userInfoLog=function(a){if(bUserInfoLogDebug){p(a)}};$Core.loadUserToolTip=function(a){setTimeout("$Core.showUserToolTip('"+a+"');",$iUserToolTipWaitTime)};$Core.closeUserToolTip=function(a){if($bUserActualToolTipIsHover===true&&a==$sHoveringOn){$Core.userInfoLog("CANCEL CLOSE: "+a);return}aHideUsers[a]=true;$Core.userInfoLog("CLOSE: "+a);$("#js_user_tool_tip_cache_"+a+"").parent().parent().hide()};$Core.showUserToolTip=function(b){var c=$oUserToolTipObject;$(".js_user_tool_tip_holder").hide();if($bUserToolTipIsHover===false){$Core.userInfoLog("NO LOAD: "+b);return}if(isset(aHideUsers[b])){$Core.userInfoLog("HIDING: "+b);delete aHideUsers[b];return}if(b!=$sHoveringOn){$Core.userInfoLog("NO SHOW: "+b);return}$Core.userInfoLog("SHOWING: "+b);var a=$(c).offset();$("#js_user_tool_tip_cache_"+b+"").parent().parent().css("display","block").css("top",(a.top+16)+"px").css("left",a.left+"px")};$Behavior.userHoverToolTip=function(){$("#main_content_holder .user_profile_link_span a").mouseover(function(){$Core.userInfoLog("----------------------------- START -----------------------------");var a=$(this).parent().attr("id").replace("js_user_name_link_","");if(empty(a)){return}if($("#js_user_tool_tip_cache_"+a+"").length<=0){$("body").append('<div class="popover bottom js_user_tool_tip_holder"><div class="arrow"></div><h3 class="popover-title">User Info</h3><div class="popover-content js_user_tool_tip_body"><div id="js_user_tool_tip_cache_'+a+'"></div></div></div>');$.ajaxCall("user.tooltip","user_name="+a,"GET");$("#js_user_tool_tip_cache_"+a+"").hover(function(){$bUserActualToolTipIsHover=true;$Core.userInfoLog("MOUSE ON")},function(){oCloseObject=$(this).attr("id").replace("js_user_tool_tip_cache_","");setTimeout("$Core.closeUserToolTip('"+oCloseObject+"');",$iUserToolTipWaitTime);$bUserActualToolTipIsHover=false;$Core.userInfoLog("MOUSE OFF")})}if(isset(aHideUsers[a])){delete aHideUsers[a]}$bUserToolTipIsHover=true;$sHoveringOn=a;$Core.userInfoLog("HOVER: "+a);$(".js_user_tool_tip_holder").hide();$oUserToolTipObject=this;if($("#js_user_tool_tip_cache_"+a).html().length<=0){}else{$Core.loadUserToolTip(a)}});$("#main_content_holder .user_profile_link_span a").mouseout(function(){$bUserToolTipIsHover=false;oCloseObject=$(this).parent().attr("id").replace("js_user_name_link_","");setTimeout("$Core.closeUserToolTip('"+oCloseObject+"');",$iUserToolTipWaitTime)})};
